<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Order Details</title>

<style>
body {
  font-family: Segoe UI;
  background:#F2F0EF;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
}

.container {
  width:520px;
  background:#fff;
  padding:30px;
  border-radius:16px;
  box-shadow:0 5px 20px #351E10;
}

label {
  font-weight:bold;
  display:block;
  margin-top:12px;
}

input, select {
  width:100%;
  padding:10px;
  margin-top:6px;
  border-radius:8px;
  border:1px solid #ccc;
}

input[readonly], select:disabled {
  background:#eee;
}

.items {
  margin-top:10px;
  font-size:14px;
}

.buttons {
  margin-top:20px;
  display:flex;
  gap:12px;
  justify-content:center;
}

button {
  padding:10px 20px;
  border:none;
  border-radius:30px;
  cursor:pointer;
  font-weight:bold;
}

.edit { background:#351E10; color:#fff; }
.save { background:green; color:#fff; display:none; }
</style>
</head>

<body>

<div class="container">
<h2>Order Details</h2>

<form action="/order/update/<%= order.orderId %>" method="POST">

<label>Order ID</label>
<input type="text" value="<%= order.orderId %>" readonly>

<label>Customer Name</label>
<input type="text" value="<%= order.shippingAddress.name %>" readonly>

<label>Items</label>
<div class="items">
  <% order.items.forEach(i => { %>
    <div>
      <strong><%= i.productName %></strong> × <%= i.quantity %>
      — ₹<%= i.price %>
    </div>
  <% }) %>
</div>

<label>Total Amount</label>
<input type="number" value="<%= order.totalAmount %>" readonly>

<label>Order Status</label>
<select name="orderStatus" disabled>
  <% ['placed','shipped','outfordelivery','cancelled'].forEach(s => { %>
    <option value="<%= s %>" <%= order.orderStatus===s?'selected':'' %>>
      <%= s %>
    </option>
  <% }) %>
</select>

<div class="buttons">
  <button type="button" class="edit" onclick="enableEdit()">Edit</button>
  <button type="submit" class="save">Save</button>
</div>

</form>
</div>

<script>
function enableEdit(){
  document.querySelector('select').disabled = false;
  document.querySelector('.save').style.display = 'inline-block';
}
</script>

</body>
</html>
